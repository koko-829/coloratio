<div class="my-10 flex flex-col">
  <div class="flex items-end gap-1"> <%# 「ベース設定」見出し用 %>
    <svg xmlns="http://www.w3.org/2000/svg"  class="ml-2 size-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C17.5222 2 22 5.97778 22 10.8889C22 13.9556 19.5111 16.4444 16.4444 16.4444H14.4778C13.5556 16.4444 12.8111 17.1889 12.8111 18.1111C12.8111 18.5333 12.9778 18.9222 13.2333 19.2111C13.5 19.5111 13.6667 19.9 13.6667 20.3333C13.6667 21.2556 12.9 22 12 22C6.47778 22 2 17.5222 2 12C2 6.47778 6.47778 2 12 2ZM7.5 12C8.32843 12 9 11.3284 9 10.5C9 9.67157 8.32843 9 7.5 9C6.67157 9 6 9.67157 6 10.5C6 11.3284 6.67157 12 7.5 12ZM16.5 12C17.3284 12 18 11.3284 18 10.5C18 9.67157 17.3284 9 16.5 9C15.6716 9 15 9.67157 15 10.5C15 11.3284 15.6716 12 16.5 12ZM12 9C12.8284 9 13.5 8.32843 13.5 7.5C13.5 6.67157 12.8284 6 12 6C11.1716 6 10.5 6.67157 10.5 7.5C10.5 8.32843 11.1716 9 12 9Z"></path></svg>
    <div class="text-xl font-bold">ベース設定</div>
  </div>
  <div x-data="{ open: false }" class="w-[28rem] px-1 py-2 mt-1 bg-white flex gap-[0.4rem] justify-center items-center overflow-hidden shadow-xl rounded-xl bg-blue-gray-500 border-2">
    <% (1..5).each do |i| %>
      <div x-data="{ setting: true }"> <%# 繰り返し内で毎回状態変数を定義しないと、一つずつsettingしたり外したりができないため。 %>
        <div x-show="setting" class="w-20 group/base-delete relative"><%# 設置済みコンポーネント %>
          <%# color1表示 %><p class="ml-1 text-base">color<%= i %></p>
          <%# 閉じるボタン %><svg @click="setting = !setting" class="hidden group-hover/base-delete:block absolute active:scale-95 hover:scale-110 active:translate-y-0.5 transition-all duration-300 ease-out size-6 top-3 z-50 -right-2 fill-gray-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 10.5858L9.17157 7.75736L7.75736 9.17157L10.5858 12L7.75736 14.8284L9.17157 16.2426L12 13.4142L14.8284 16.2426L16.2426 14.8284L13.4142 12L16.2426 9.17157L14.8284 7.75736L12 10.5858Z"></path></svg><%# ベース枠のrelativeと分離するため、この位置に配置。 %> 
          <div @click="open = open ===<%= i %> ? false : <%= i %>" class="relative w-full h-24 shadow-xl rounded-xl border-2 hover:bg-gray-100 hover:scale-110 transition-all duration-500 ease-out active:scale-95 active:translate-y-1 " :class="{'border-orange-400': open === <%= i %>}">
            <%# 絵の具のsvg %><svg class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-[40%] size-24 fill-[#00909b]" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:serif="http://www.serif.com/" viewBox="0 0 101 126.25" version="1.1" xml:space="preserve" style="" x="0px" y="0px" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.41421"><rect serif:id="Page 43" x="0.5" y="0.5" width="100" height="100" style="" fill="none"/><path d="M59.559,17.509c0.404,0.076 0.988,0.474 1.228,1.032c0,0 0.15,0.621 0.15,0.621c0,0 0.325,-0.229 0.325,-0.229l0.6,-0.181l0.388,0.039c0.091,-0.125 0.182,-0.249 0.274,-0.373c0.399,-0.53 0.905,-1.009 1.426,-0.956c0.229,0.024 0.571,0.059 0.571,0.059c0.337,0.142 0.339,0.142 0.635,0.356c0.543,0.393 0.495,1.493 0.495,1.493l-0.059,0.229c-0.116,0.311 -0.022,0.099 -0.268,0.562c-0.571,1.073 -1.242,2.091 -1.968,3.066l0.525,0.523c0.412,0.655 -0.002,0.908 0.44,0.879c0.274,-0.016 0.678,-0.033 0.678,-0.033c1.069,-1.244 1.966,-2.619 2.886,-3.976c0.217,-0.316 0.599,-0.674 0.672,-0.716c0.374,-0.218 0.817,-0.24 1.253,-0.203c0.674,0.058 1.099,0.844 1.211,1.392c0,0 -0.174,1.097 -0.658,1.934c-0.717,1.241 -1.672,2.333 -2.659,3.382c0,0 -0.036,0.573 -0.256,0.999c-0.227,0.44 -0.746,0.958 -0.746,0.958c-0.025,0.046 -0.051,0.091 -0.076,0.135c-0.337,0.577 -0.698,1.144 -1.056,1.711l-0.061,0.097c-0.356,0.549 -0.712,1.096 -1.07,1.644c0,0 1.089,-1.406 2.185,-2.774c1.848,-2.307 3.737,-4.586 5.552,-6.916c0,0 1.231,-2.978 3.161,-1.848c0.413,0.242 0.745,0.691 0.858,1.171c0,0 0.063,0.407 -0.037,0.769c-0.123,0.44 -0.414,0.806 -0.714,1.141c-0.537,0.599 -0.634,0.653 -0.898,0.976c-0.249,0.311 -0.296,0.4 -0.419,0.569c-0.376,0.516 -0.743,1.038 -1.111,1.56l0.489,0.152c0.373,0.19 0.928,0.729 1.011,1.507c0.115,1.082 -0.262,2.16 -0.76,3.144c0,0 0.608,0.647 0.711,1.089c0,0 -0.066,1.054 -0.397,1.693c-0.251,0.483 -0.654,1.139 -0.654,1.139c0,0 0.349,0.035 0.357,0.037c0.397,0.109 0.793,0.426 0.793,0.426c0.095,0.101 0.522,0.701 0.528,1.361c0.019,2.172 -1.533,4.001 -2.717,5.713l-0.059,0.084c0,0 -0.035,0.194 0.295,-0.115c0.756,-0.698 1.599,-1.405 2.587,-1.587c0.664,-0.123 1.169,0.232 1.169,0.232c0.27,0.172 0.636,0.559 0.717,1.031c0.032,0.184 0.048,0.051 0.03,0.498c0,0 -0.316,0.483 0.143,0.204c0.497,-0.294 1.24,-0.511 1.364,-0.53c1.435,-0.217 1.861,0.965 1.9,1.613c0,0 -0.542,1.51 -1.203,2.745c0,0 -0.074,0.226 -0.074,0.226c0.519,0.129 0.918,0.55 1.155,1.111c0,0 0.065,0.425 0.065,0.425c-0.014,0.596 0.109,0.169 -0.285,1.041c-0.802,1.777 -2.042,3.327 -3.344,4.797c-0.061,0.365 -0.267,0.877 -0.267,0.877c-0.012,0.071 -0.025,0.142 -0.038,0.213c-0.068,0.362 -0.426,0.704 0.243,0.543c0.297,-0.071 0.718,-0.072 0.998,0.071c0.254,0.13 0.255,0.128 0.482,0.301c0.422,0.322 0.53,1.078 0.53,1.078c0.009,0.288 -0.751,1.821 -1.724,3.128c-3.612,4.85 -7.33,9.617 -10.703,14.657c-3.178,4.748 -6.299,9.529 -9.226,14.481c-1.051,1.807 -1.572,4.128 -3.109,5.156c-0.539,0.361 -1.239,0.467 -1.846,0.235c0,0 -0.532,-0.378 -0.566,-0.423c-1.214,-1.604 0.385,-2.881 1.349,-4.487c0,0 -0.401,-0.393 -0.664,-0.824c0,0 0.08,-0.245 -0.128,-0.04c-0.962,0.929 -2.52,1.201 -3.499,0.192c-0.445,-0.458 -0.45,-0.784 -0.452,-1.141l-0.492,0.025c-0.352,0.574 -0.91,0.84 -1.58,0.857c0,0 -0.274,-0.052 -0.274,-0.052c-0.38,0.582 -0.798,1.133 -1.192,1.705c0,0 -0.656,1.069 -1.151,1.897l-0.589,0.571l-0.621,0.196l-0.647,-0.066l-0.568,-0.318l-0.395,-0.517l-0.157,-0.632c0.044,-0.26 0.109,-0.645 0.109,-0.645l-0.178,-0.693c0.003,-0.294 0.014,-0.35 0.037,-0.498c0.125,-0.811 0.514,-1.564 0.926,-2.288c0,0 -0.388,0.016 -0.395,0.015c-0.477,-0.04 -0.963,-0.245 -1.316,-0.672c0,0 -0.22,-0.318 -0.288,-0.664c-0.22,0.362 -0.41,0.658 -0.41,0.658c-0.15,0.185 -0.454,0.386 -0.454,0.386l-0.661,0.206l-0.686,-0.092c0,0 -0.583,-0.372 -0.583,-0.372l-0.36,-0.549c0,0 -0.109,-0.648 -0.109,-0.648l0.047,-0.334c0.292,-0.991 0.329,-0.659 0.01,-0.464l-0.454,0.863l-0.481,0.485l-0.639,0.241l-0.682,-0.047l-0.6,-0.326l-0.41,-0.547c0,0 -0.146,-0.667 -0.146,-0.667l0.051,-0.316c0,0 -0.502,-0.351 -0.733,-0.762l-0.098,-0.14l-0.643,-0.161l-0.523,-0.406c0,0 -0.315,-0.585 -0.315,-0.585c-0.141,-0.83 -0.112,-0.469 -0.167,-0.428c-0.464,0.338 -1.079,0.691 -2.085,0.089c-0.465,-0.278 -0.645,-1.085 -0.645,-1.085c-0.008,-0.078 -0.033,-0.333 0.023,-0.616c-0.467,0.306 -1.188,0.685 -1.188,0.685c-0.729,0.338 -1.759,0.33 -2.336,-0.786c0,0 -0.199,-0.619 -0.114,-1.081l-0.29,-0.205c0,0 -0.372,-0.581 -0.372,-0.581c0,0 -0.093,-0.686 -0.093,-0.686l0.063,-0.332c0.071,-0.22 0.082,-0.228 0.119,-0.318c0.171,-0.411 0.355,-0.815 0.544,-1.217c-0.54,0.441 -1.173,0.97 -1.846,0.937c-0.364,-0.017 -0.365,-0.023 -0.716,-0.123c-0.591,-0.168 -0.954,-0.889 -0.987,-1.513c0,0 0.094,-1.117 0.435,-1.994c0.504,-1.295 1.167,-2.522 1.791,-3.723l0.092,-0.173c0,0 -0.511,-0.851 -0.437,-1.389c0.153,-1.115 0.976,-2.063 1.677,-3.144c0,0 -1.206,0.112 -1.866,-0.644c0,0 -0.668,-0.102 -1.064,-0.543c-0.603,-0.673 -0.216,-1.704 -0.047,-2.587c0.016,-0.082 0.016,-0.082 0.033,-0.163c0.486,-2.234 1.713,-4.232 3.002,-6.086c0,0 0.413,-0.11 -0.441,0.054c-0.556,0.107 -1.146,0.058 -1.656,-0.186l-0.479,-0.351c0,0 -0.319,-0.501 -0.319,-0.501c-0.066,-0.258 -0.167,-0.51 -0.043,-1.07c0,0 0.626,-1.269 1.258,-2.345c0.724,-1.234 1.488,-2.444 2.279,-3.636c0,0 -0.988,-0.328 -1.421,-0.976c0,0 -0.419,-1.41 0.493,-3.097c6.176,-11.433 15.457,-21.134 24.848,-29.721c0.091,-0.084 0.182,-0.169 0.272,-0.254c0.101,-0.096 0.202,-0.192 0.303,-0.289c2.078,-2.004 4.151,-4.134 6.749,-5.246c0,0 1.958,-1.692 4.195,-2.196c0.638,-0.143 1.289,-0.225 1.942,-0.259c0.175,-0.01 0.35,-0.015 0.525,-0.018c0.975,-0.017 2.021,0.361 2.01,1.801l-0.025,0.13c0,0 0.937,0.705 0.729,1.773c0,0 -0.523,1.017 -1.158,1.757c-0.799,0.931 -1.681,1.788 -2.574,2.631c0,0 -1.005,2.093 -2.242,3.706l-0.145,0.187c0,0 0.178,0.003 0.366,0.023Zm12.592,35.698c0.288,-0.175 0.059,-0.065 0,0Z" style="" fill-rule="nonzero"/></svg>
            <%# 選択中タグ表示 %><span x-show="open === <%= i %>" class="absolute select-none left-[0.18rem] -bottom-1 py-0.5 px-4 rounded-full text-xs font-medium border border-orange-400 bg-orange-200 text-orange-500 shadow-2xs dark:bg-neutral-900 dark:border-neutral-700 dark:text-white">選択中</span>
          </div>
          <div class="mt-1 flex w-full items-center justify-center gap-0.5 py-1 px-0.5 rounded-md text-xs font-medium border-2 border-gray-200 bg-white text-gray-800 shadow-2xs dark:bg-neutral-900 dark:border-neutral-700 dark:text-white"><%# https://preline.co/docs/badge.html %>
            <div class="size-3 bg-[#00909B]"></div>
            <p>#00909B<p>
          </div><%# HEXコード %>

          <div class="mt-1 flex w-full items-center justify-first gap-1 py-1 px-0.5 rounded-md text-xs font-medium border-2 border-gray-200 bg-white text-gray-800 shadow-2xs dark:bg-neutral-900 dark:border-neutral-700 dark:text-white"><%# https://preline.co/docs/badge.html %>
              <svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="currentColor"><path d="M11 2V22H13V2H11ZM2 6C2 4.89543 2.89543 4 4 4H7C8.10457 4 9 4.89543 9 6V18C9 19.1046 8.10457 20 7 20H4C2.89543 20 2 19.1046 2 18V6ZM20 6V18H17V6H20ZM17 4C15.8954 4 15 4.89543 15 6V18C15 19.1046 15.8954 20 17 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4H17Z"></path></svg>
            <select class="cursor-pointer">
              <% 0.step(100,5) do |s| %>
                <option value=<%= s %>><%= s %>%</option>
              <% end %>
            </select>
          </div><%# 比率設定 %>
        </div>
        <div x-show="!setting" class="w-20"><%# 未選択コンポーネント用 %>
          <%# color1表示 %><p class="ml-1 text-base">color<%= i %></p>
          <div @click="setting = !setting" class="group/base-set relative w-full h-24 shadow-xl rounded-xl border-2 border-dotted hover:bg-gray-100">
            <button class="size-8 group-hover/base-set:scale-110 transition-all duration-500 ease-out absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
              <%# addボタン %><svg class="fill-gray-600 active:translate-y-0.5 active:scale-95" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 11V7H13V11H17V13H13V17H11V13H7V11H11ZM12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z"></path></svg>
            </button>
          </div>
          <div class="opacity-30 mt-1 flex w-full items-center justify-start gap-0.5 py-1 px-0.5 rounded-md text-xs font-medium border-2 border-gray-200 bg-white text-gray-800 shadow-2xs dark:bg-neutral-900 dark:border-neutral-700 dark:text-white"><%# https://preline.co/docs/badge.html %>
            <div class="size-3 bg-transparent border border-black"></div>
          </div><%# HEXコード %>

          <div class=" opacity-30 mt-1 flex w-full items-center justify-first gap-1 py-1 px-0.5 rounded-md text-xs font-medium border-2 border-gray-200 bg-white text-gray-800 shadow-2xs dark:bg-neutral-900 dark:border-neutral-700 dark:text-white"><%# https://preline.co/docs/badge.html %>
              <svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="currentColor"><path d="M11 2V22H13V2H11ZM2 6C2 4.89543 2.89543 4 4 4H7C8.10457 4 9 4.89543 9 6V18C9 19.1046 8.10457 20 7 20H4C2.89543 20 2 19.1046 2 18V6ZM20 6V18H17V6H20ZM17 4C15.8954 4 15 4.89543 15 6V18C15 19.1046 15.8954 20 17 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4H17Z"></path></svg>
            <select disabled>
              <% 0.step(100,5) do |s| %>
                <option value=<%= s %>><%= s %>%</option>
              <% end %>
            </select>
          </div><%# 比率設定 %>
        </div>
      </div>
    <% end %>
  </div>
</div>