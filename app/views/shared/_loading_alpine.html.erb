<script>

  document.addEventListener('alpine:init', () => {
    Alpine.store('loading', {
      loadingModal: false,
    });
  });

  // turboキャッシュ保存前
  // document.addEventListener("turbo:before-cache", () => {
  //   Alpine.store('loading').loadingModal = true;
  // });

  // turboクリック時
  document.addEventListener("turbo:click", () => {
    console.log('turbo:click');
    Alpine.store('loading').loadingModal = true;
  });


  // turbo通信で読み込みが終わった後の処理
  document.addEventListener("turbo:load", () => {
    Alpine.store('loading').loadingModal = false; // ローディングを非表示
  });
</script>