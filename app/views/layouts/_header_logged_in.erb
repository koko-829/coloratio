<nav x-data="{ isOpen: false }" class="sticky top-0 z-50 shadow-lg bg-[#fdf3ea]">
  <div class="w-[90vw] max-w-screen-2xl py-4 mx-auto">
    <div class="sm:flex justify-between">
      <div class="flex justify-between items-center">
        <!-- アプリロゴ部分 -->
        <%= link_to root_path, class: "text-2xl" do %>
          <%= image_tag "coloratio-logo.svg", class:"w-32 md:w-40" %>
        <% end %>
        <!-- ハンバーガーメニューの開閉アイコン -->
        <div class="flex sm:hidden">
          <button x-cloak @click="isOpen = !isOpen" type="button" class="text-gray-500 hover:text-gray-600 focus:outline-none focus:text-gray-600">
            <svg x-show="!isOpen" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 8h16M4 16h16" />
            </svg>

            <svg x-show="isOpen" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>

          </button>
        </div>
      </div>

      <!-- Mobile Menu open: "block", Menu closed: "hidden" -->
      <div x-cloak :class="[isOpen ? 'translate-x-0 opacity-100 ' : 'opacity-0 -translate-x-full']" class="absolute inset-x-0 z-50 w-full px-6 py-4 transition-all duration-300 ease-in-out shadow-xl sm:shadow-none bg-[#fdf3ea] sm:mt-0 sm:p-0 sm:top-0 sm:relative sm:bg-transparent sm:w-auto sm:opacity-100 sm:translate-x-0 sm:flex sm:items-center">
        <div class="flex flex-col divide-y divide-stroke sm:divide-y-0 -mx-6 sm:flex-row sm:items-center">

          <%# 新規作成ボタン %>
          <%= link_to new_post_path, class: "flex items-center gap-2 px-3 py-2 mx-2 mt-2 text-gray-700 transition-colors duration-300 transform rounded-md sm:mt-0 hover:bg-gray-100" do%>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M11 11V7H13V11H17V13H13V17H11V13H7V11H11ZM12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z"></path></svg>
            <span>新規作成</span>
          <% end %>

          <%# ホームボタン %>
          <%= link_to root_path, class: "flex items-center gap-2 px-3 py-2 mx-2 mt-2 text-gray-700 transition-colors duration-300 transform rounded-md sm:mt-0 hover:bg-gray-100" do%>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M19 21H5C4.44772 21 4 20.5523 4 20V11L1 11L11.3273 1.6115C11.7087 1.26475 12.2913 1.26475 12.6727 1.6115L23 11L20 11V20C20 20.5523 19.5523 21 19 21ZM6 19H18V9.15745L12 3.7029L6 9.15745V19Z"></path></svg>
            <span>ホーム</span>
          <% end %>

          <%= render 'shared/nav_profile_menu' %>
          <%= render 'shared/header_profile_dropdown' %>

        </div>
      </div>
    </div>
  </div>
</nav>
